{% comment %}
  Button Block - Flexible button with styles and sizes
{% endcomment %}

<div 
  class="button-block"
  style="--text-align: {{ block.settings.alignment }}"
  {{ block.shopify_attributes }}
>
  {% if block.settings.link != blank %}
    <a 
      href="{{ block.settings.link }}" 
      class="button button--{{ block.settings.style }} button--{{ block.settings.size }} {{ block.settings.text_size }}"
      {% if block.settings.link contains 'http' %}
        target="_blank" rel="noopener noreferrer"
      {% endif %}
      {% if block.settings.text == blank %}
        aria-label="Button"
      {% endif %}
    >
      {% if block.settings.icon != blank %}
        <span class="button__icon">
          {% case block.settings.icon %}
            {% when 'arrow-right' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            {% when 'arrow-left' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            {% when 'download' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            {% when 'external' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"/></svg>
          {% endcase %}
        </span>
      {% endif %}
      {% if block.settings.text != blank %}
        <span class="button__text">{{ block.settings.text }}</span>
      {% else %}
        <span class="button__text">Button</span>
      {% endif %}
    </a>
  {% else %}
    <button 
      class="button button--{{ block.settings.style }} button--{{ block.settings.size }} {{ block.settings.text_size }}"
      type="button"
      {% if block.settings.text == blank %}
        aria-label="Button"
      {% endif %}
    >
      {% if block.settings.icon != blank %}
        <span class="button__icon">
          {% case block.settings.icon %}
            {% when 'arrow-right' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            {% when 'arrow-left' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
            {% when 'download' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/></svg>
            {% when 'external' %}
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"/></svg>
          {% endcase %}
        </span>
      {% endif %}
      {% if block.settings.text != blank %}
        <span class="button__text">{{ block.settings.text }}</span>
      {% else %}
        <span class="button__text">Button</span>
      {% endif %}
    </button>
  {% endif %}
</div>

{% schema %}
{
  "name": "Button",
  "settings": [
    {
      "type": "text",
      "id": "text",
      "label": "Button text",
      "default": "Button"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link"
    },
    {
      "type": "select",
      "id": "style",
      "label": "Button style",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        },
        {
          "value": "outline",
          "label": "Outline"
        },
        {
          "value": "link",
          "label": "Link style"
        }
      ],
      "default": "primary"
    },
    {
      "type": "select",
      "id": "size",
      "label": "Size",
      "options": [
        {
          "value": "small",
          "label": "Small"
        },
        {
          "value": "medium",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        }
      ],
      "default": "medium"
    },
    {
      "type": "select",
      "id": "text_size",
      "label": "Text size",
      "options": [
        { "value": "text-sm", "label": "Small" },
        { "value": "text-base", "label": "Base" },
        { "value": "text-lg", "label": "Large" },
        { "value": "text-xl", "label": "XL" },
        { "value": "text-base lg:text-lg", "label": "Base / desktop Large" },
        { "value": "text-lg lg:text-xl", "label": "Large / desktop XL" }
      ],
      "default": "text-base"
    },
    {
      "type": "text_alignment",
      "id": "alignment",
      "label": "Alignment",
      "default": "left"
    },
    {
      "type": "select",
      "id": "icon",
      "label": "Icon",
      "options": [
        {
          "value": "",
          "label": "None"
        },
        {
          "value": "arrow-right",
          "label": "Arrow Right"
        },
        {
          "value": "arrow-left",
          "label": "Arrow Left"
        },
        {
          "value": "download",
          "label": "Download"
        },
        {
          "value": "external",
          "label": "External Link"
        }
      ],
      "default": ""
    }
  ],
  "presets": [
    {
      "name": "Button"
    }
  ]
}
{% endschema %} 